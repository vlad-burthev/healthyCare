import{r as j,j as e,h as b,L as w}from"./index-d4c46eb0.js";import{M as r,a as x}from"./MyInput-77183f57.js";import{E as N}from"./Main-b11b10bd.js";import{A as k}from"./AddBtn-52c48a5f.js";import{D as I}from"./DelateBtn-ab931404.js";const h={"add-info__bg":"_add-info__bg_n384m_1","add-info__content":"_add-info__content_n384m_14","add-info__form":"_add-info__form_n384m_34","add-form__btn":"_add-form__btn_n384m_41"},F=({setUser:o,user:c,api:a,setShowForm:_,userHistory:l,userInformation:n,addUser:p,desie:f,address:u})=>{const[t,i]=j.useState({login:"",pass:"",name:"",age:"",phone:"",email:"",address:"",procedures:"",disease:"",history:"",photo:"",recordHistory:[],id:""}),[v,m]=j.useState(!1),y=()=>{const s={login:t.login,pass:t.pass,name:t.name,age:t.age,phone:t.phone,email:t.email,address:t.address,history:t.history,photo:t.photo,disease:t.disease,procedures:t.procedures,recordHistory:[],id:Date.now()};t.name.length===0||t.age.length===0||t.phone.length===0||t.email.length===0?m(!0):(fetch(`http://localhost:3000/${a}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)}).then(g=>g.json()).catch(g=>console.log(g)),o([...c,s]),_(!1))};function C(s){s.key==="e"&&s.preventDefault()}return e.jsx("div",{className:h["add-info__bg"],onClick:()=>_(!1),children:e.jsxs("div",{className:h["add-info__content"],onClick:s=>s.stopPropagation(),children:[v&&e.jsx(N,{setShowError:m}),e.jsxs("div",{className:h["add-info__form"],children:[e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,login:s.target.value}),placeholder:"Введіть логін *"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,pass:s.target.value}),placeholder:"Введіть пароль *"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,name:s.target.value}),placeholder:"Введіть ПІБ *"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,age:s.target.value}),placeholder:"Введіть вік *"})}),e.jsx("div",{children:e.jsx(r,{type:"number",onKeyPress:C,onChange:s=>i({...t,phone:s.target.value}),placeholder:"Введіть номер телефону *"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,email:s.target.value}),placeholder:"Введіть Email *"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,photo:s.target.value}),placeholder:"Введіть URL зображення"})}),e.jsx("div",{children:e.jsx(r,{type:"text",onChange:s=>i({...t,address:s.target.value}),placeholder:u})}),e.jsx("div",{children:e.jsx(x,{onChange:s=>i({...t,disease:s.target.value}),placeholder:f})}),e.jsx("div",{children:e.jsx(x,{placeholder:n,onChange:s=>i({...t,history:s.target.value})})}),e.jsx("div",{children:e.jsx(x,{placeholder:l,onChange:s=>i({...t,procedures:s.target.value})})}),e.jsx(k,{className:h["add-form__btn"],onClick:y,children:p})]})]})})},d={"user-list__item":"_user-list__item_sfejg_1","user-list__content":"_user-list__content_sfejg_10","user-list__info":"_user-list__info_sfejg_17","user-list__id":"_user-list__id_sfejg_21","user-list__photo":"_user-list__photo_sfejg_29","user-list__btn-delate":"_user-list__btn-delate_sfejg_38"},L=({user:o,delateUser:c,patient:a})=>{const l=o.disease.split(" ").slice(0,5).join(" "),n=b(p=>p.repos.register);return e.jsxs("div",{className:d["user-list__item"],children:[e.jsxs("div",{className:d["user-list__content"],children:[e.jsxs("div",{className:d["user-list__id"],children:["ID: ",o.id]}),e.jsxs("div",{className:d["user-list__info"],children:[e.jsx("div",{children:o.name}),e.jsx("div",{children:o.phone}),e.jsx("div",{children:o.email}),e.jsx("div",{children:o.address}),e.jsx("div",{children:l})]}),e.jsx("div",{className:d["user-list__photo"],style:{border:"2px solid #000",borderRadius:"50%",width:"150px",height:"150px",backgroundPosition:"center center",backgroundSize:"cover",backgroundImage:`url(${o.photo?o.photo:"https://media.istockphoto.com/id/1337144146/vector/default-avatar-profile-icon-vector.jpg?s=612x612&w=0&k=20&c=BIbFwuv7FxTWvh5S3vB6bkT0Qv8Vn8N5Ffseq84ClGI="})`}})]}),e.jsxs("div",{style:{position:"relative",display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:"20px"},children:[e.jsx(w,{style:{textDecoration:"underline",color:"green"},to:`${o.id}`,children:"Детальніше"}),n&&e.jsx(I,{className:d["user-list__btn-delate"],onClick:()=>c(o.id),children:"Видалити"})]})]})},S={"list-item":"_list-item_1bhz3_1"},$=({users:o,delateUser:c,searchUser:a,patient:_})=>{const l=o.filter(n=>n.name.replace(/\s+/g,"").toLowerCase().includes(a.toLowerCase().replace(/\s+/g,""))||n.id.toString().includes(a)||n.disease.replace(/\s+/g,"").toLowerCase().includes(a.toLowerCase().replace(/\s+/g,"")));return e.jsx("div",{className:S["list-item"],children:l.length>0?l.reverse().map(n=>e.jsx(L,{delateUser:c,user:n,patient:_},n.id)):e.jsx("h1",{children:"Нікого не знайдено"})})};export{F as A,$ as U};
