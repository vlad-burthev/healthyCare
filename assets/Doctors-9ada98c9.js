import{h as i,r as t,j as s,l as g}from"./index-8caec843.js";import{C as L,M as U}from"./MyInput-fe4e4e82.js";import{A as _,U as y}from"./UserList-6d51f974.js";import{u as C}from"./DelateBtn-49cae500.js";import{a as I}from"./Main-5725fdca.js";import"./AddBtn-d6c8b551.js";const v="_doctors_17jjm_1",m={doctors:v,"doctors-add":"_doctors-add_17jjm_4"},b=()=>{const d=i(o=>o.repos.patient),p=i(o=>o.repos.doctor),[n,u]=t.useState(""),[r,a]=t.useState([]),[h,f]=t.useState(!0),{data:c,isLoading:x,error:A}=C("http://localhost:3000/doctors");t.useEffect(()=>{c&&(a(c),f(!1))},[c]);const j=o=>{u(o)},[D,l]=t.useState(!1),S=async o=>{I.delete(`http://localhost:3000/doctors/${o}`).then(e=>{console.log("Пользователь удален")}).catch(e=>{console.error("Ошибка при удалении пользователя",e)}),a(r.filter(e=>e.id!==o))};return s.jsx("div",{className:m.doctors,children:s.jsxs(L,{children:[s.jsx(U,{value:n,onChange:o=>j(o.target.value),type:"text",maxLength:"50",placeholder:"Введіть ім'я або ID лікаря або професію"}),!d&&!p&&s.jsx("button",{className:m["doctors-add"],onClick:()=>l(!0),children:"Додати лікаря"}),D&&s.jsx(_,{address:"Введіть № кабінету",addUser:"Додати лікаря",userHistory:"Введіть інформацію про освіту",desie:"Введіть професію",userInformation:"Введіть інформацію про лікаря",setShowForm:l,user:r,setUser:a,api:"doctors"}),x||h?s.jsx(g,{}):s.jsx(y,{patient:d,searchUser:n,delateUser:S,users:r})]})})};export{b as default};
