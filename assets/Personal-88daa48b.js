import{h as d,r as o,j as e,l as L}from"./index-8caec843.js";import{C as U,M as _}from"./MyInput-fe4e4e82.js";import{u as y}from"./DelateBtn-49cae500.js";import{A as C,U as I}from"./UserList-6d51f974.js";import{a as P}from"./Main-5725fdca.js";import"./AddBtn-d6c8b551.js";const v="_doctors_17jjm_1",i={doctors:v,"doctors-add":"_doctors-add_17jjm_4"},N=()=>{const p=d(s=>s.repos.patient),m=d(s=>s.repos.register),[c,u]=o.useState(""),[r,a]=o.useState([]),[h,f]=o.useState(!0),{data:n,isLoading:x,error:A}=y("http://localhost:3000/personal");o.useEffect(()=>{n&&(a(n),f(!1))},[n]);const j=s=>{u(s)},[g,l]=o.useState(!1),S=async s=>{P.delete(`http://localhost:3000/personal/${s}`).then(t=>{console.log("Пользователь удален")}).catch(t=>{console.error("Ошибка при удалении пользователя",t)}),a(r.filter(t=>t.id!==s))};return e.jsx("div",{className:i.doctors,children:e.jsxs(U,{children:[e.jsx(_,{value:c,onChange:s=>j(s.target.value),type:"text",maxLength:"50",placeholder:"Введіть ім'я або ID лікаря або професію"}),m&&e.jsx("button",{className:i["doctors-add"],onClick:()=>l(!0),children:"Додати мед. працівника"}),g&&e.jsx(C,{address:"Введіть № кабінету",addUser:"Додати медичного працівника",userHistory:"Введіть інформацію про освіту",desie:"Введіть спеціальність",userInformation:"Введіть інформацію про медичного працівника",setShowForm:l,user:r,setUser:a,api:"personal"}),x||h?e.jsx(L,{}):e.jsx(I,{patient:p,searchUser:c,delateUser:S,users:r})]})})};export{N as default};
